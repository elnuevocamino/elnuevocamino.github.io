import{createPostElement}from"./post-utils.js";export async function loadLatestPosts(t=3){const o="#intro-paragraph",e="latest-posts-container",n="/content/blog/posts-manifest.json";try{const s=await fetch(n);if(!s.ok)throw new Error(`Failed to fetch posts manifest from ${n}: ${s.statusText}`);const r=await s.json();if(!Array.isArray(r))return void console.error("Los datos del manifiesto de posts no son un array.");const a=r.filter(t=>t.publicationDate).sort((t,o)=>new Date(o.publicationDate)-new Date(t.publicationDate)).slice(0,t);if(0===a.length)return void console.info("No hay posts disponibles para mostrar o hay un problema con los datos de los posts.");if(!document.querySelector(o))return void console.error(`Elemento de anclaje "${o}" no encontrado en el DOM.`);let c=document.getElementById(e);if(!c)return void console.error(`Elemento contenedor de posts "#${e}" no encontrado en el DOM.`);c.innerHTML="";const l=document.createDocumentFragment();a.forEach(t=>{const o=document.createElement("hr");o.className="post-separator",l.appendChild(o);const e=createPostElement(t,"/content/blog/posts/");l.appendChild(e)}),c.appendChild(l);const i=document.createElement("h2");i.textContent="Últimas Entradas del Blog",i.className="section-title",c.prepend(i)}catch(t){console.error("Error al cargar o mostrar los últimos posts:",t)}}